# 소프트웨어

## 소프트웨어 버전 관리
소프트웨어 버전은 소프트웨어의 고유한 상태나 번호를 의미하며, 일반적으로 기존 번호에서 증가되는 형태로 정해진다. 버전은 소프트웨어를 효율적으로 관리하기 위해 사용되고 있으며, 일반적으로 [시맨틱 버저닝(Semantic Versioning)](https://semver.org/lang/ko/)을 따른다.

시맨틱 버저닝에서 정의한 바에 따르면, 버전은 메이저(MAJOR), 마이너(MINOR), 패치(PATCH) 형태로 표시한다. 
- 메이저 버전은 이전과 호환되지 않는 API의 변경이 일어나면 증가
- 마이너 버전은 이전과 호환되는 새로운 기능이 추가되면 증가
- 패치 버전은 이전과 호환되는 버그가 수정되면 증가


## 웹 성능
### 외부 서비스를 호출하는 경우 성능 올리기
핵심 로직 처리 중, 부가 기능을 위한 외부 서비스를 호출하는 경우
- 예를 들어, 주문 완료 알림(앱푸시 또는 알림톡 증)을 보내는 경우
- 알림은 부가기능일 뿐이다.
- 이러한 부가기능은 핵심 로직이 처리 된 이후에 수초(또는 수십초) 내에 실행만 되면 문제가 없을 수 있다.
- 이러한 경우 외부 서비스를 비동기로 성능을 올리 수 있다.

비동기 처리 방식
- 현재 서버(프로세스)에서 별도의 쓰레드를 만들어 수행
  - 쓰레드풀에서 가져오는 방식이 일반적일 것으로 보임
- 연동에 필요한 데이터를 DB에 저장한 후 별도의 쓰레드 또는 다른 프로세스에서 수행
- 연동 데이터를 메시징 시스템에 저장하고 별도의 쓰레드 또는 다른 프로세스(다른 서버로 볼 수도 있음)에서 수행

## 동시성
- 웹 서비스 서버를 개발할 때, DB에 저장하는 데이터 이외에 공유 자원에 대해서는 동기화가 반드시 필요하다.
  - 스프링 + JPA 개발을 예를 들면, 엔티티를 제외하고 클래스나 정적 변수는 최대한 불변이어야 하며, 불변이 아닌 경우 동시성을 신경써야 한다.
- DB 접근 데이터는 변경 시 트랜잭션과 테이블 락 등에 의해 동시성이 제어된다.
- 동기화는 두 가지 관점이 모두 만족되어야 한다.
  - 배타적 실행 (공유 자원에는 하나의 스레드만 접근 가능해야 한다.)
  - 스레드 간 통신 (공유 자원에 접근하는 모든 스레드는 해당 자원의 최종 수정본에 접근 가능해야 한다.)